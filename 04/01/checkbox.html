<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" integrity="sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src='https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.7.1.min.js'></script>
</head>
<body>
    <div class="container">
        <div class="text-end my-3"> <!-- my-3 마진 -->
            <button class="btn btn-primary">삭제</button>
            <button class="btn btn-danger d-none" disabled>확인</button> <!-- d-none 없애기-->
        </div>
        <ul>
            <li class="form-check border-bottom border-3 border-primary mb-3"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate text-center"><strong>제목</strong></p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">대법원장은 국회의 동의를 얻어 대통령이 임명한다. 국가는 농지에 관하여 경자유전의 원칙이 달성될 수 있도록 노력하여야 하며, 농지의 소작제도는 금지된다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">국가는 국민 모두의 생산 및 생활의 기반이 되는 국토의 효율적이고 균형있는 이용·개발과 보전을 위하여 법률이 정하는 바에 의하여 그에 관한 필요한 제한과 의무를 과할 수 있다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">국회는 정부의 동의없이 정부가 제출한 지출예산 각항의 금액을 증가하거나 새 비목을 설치할 수 없다. 공무원은 국민전체에 대한 봉사자이며, 국민에 대하여 책임을 진다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">행정각부의 장은 국무위원 중에서 국무총리의 제청으로 대통령이 임명한다. 법원은 최고법원인 대법원과 각급법원으로 조직된다. 모든 국민은 법 앞에 평등하다. 누구든지 성별·종교 또는 사회적 신분에 의하여 정치적·경제적·사회적·문화적 생활의 모든 영역에 있어서 차별을 받지 아니한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">국가는 과학기술의 혁신과 정보 및 인력의 개발을 통하여 국민경제의 발전에 노력하여야 한다. 모든 국민은 법률이 정하는 바에 의하여 공무담임권을 가진다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">국회는 상호원조 또는 안전보장에 관한 조약, 중요한 국제조직에 관한 조약, 우호통상항해조약, 주권의 제약에 관한 조약, 강화조약, 국가나 국민에게 중대한 재정적 부담을 지우는 조약 또는 입법사항에 관한 조약의 체결·비준에 대한 동의권을 가진다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">군인은 현역을 면한 후가 아니면 국무총리로 임명될 수 없다. 대통령은 내우·외환·천재·지변 또는 중대한 재정·경제상의 위기에 있어서 국가의 안전보장 또는 공공의 안녕질서를 유지하기 위하여 긴급한 조치가 필요하고 국회의 집회를 기다릴 여유가 없을 때에 한하여 최소한으로 필요한 재정·경제상의 처분을 하거나 이에 관하여 법률의 효력을 가지는 명령을 발할 수 있다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">나는 헌법을 준수하고 국가를 보위하며 조국의 평화적 통일과 국민의 자유와 복리의 증진 및 민족문화의 창달에 노력하여 대통령으로서의 직책을 성실히 수행할 것을 국민 앞에 엄숙히 선서합니다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">제2항의 재판관중 3인은 국회에서 선출하는 자를, 3인은 대법원장이 지명하는 자를 임명한다. 정당은 그 목적·조직과 활동이 민주적이어야 하며, 국민의 정치적 의사형성에 참여하는데 필요한 조직을 가져야 한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">모든 국민은 양심의 자유를 가진다. 의무교육은 무상으로 한다. 국회나 그 위원회의 요구가 있을 때에는 국무총리·국무위원 또는 정부위원은 출석·답변하여야 하며, 국무총리 또는 국무위원이 출석요구를 받은 때에는 국무위원 또는 정부위원으로 하여금 출석·답변하게 할 수 있다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">비상계엄하의 군사재판은 군인·군무원의 범죄나 군사에 관한 간첩죄의 경우와 초병·초소·유독음식물공급·포로에 관한 죄중 법률이 정한 경우에 한하여 단심으로 할 수 있다. 다만, 사형을 선고한 경우에는 그러하지 아니하다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">국정의 중요한 사항에 관한 대통령의 자문에 응하기 위하여 국가원로로 구성되는 국가원로자문회의를 둘 수 있다. 대통령은 국가의 원수이며, 외국에 대하여 국가를 대표한다.</p></li>
        </ul>
    </div>
    <script>
          $("button:eq(1)").click(function() {
            $(":checkbox:gt(0):checked").parent().remove();
            $(":checkbox").prop("checked", false);
          });

        $("button:eq(0)").click(function(){
            $(this)
            .text(function(i, j, k){
                return j == "삭제" ? "삭제취소" : "삭제";
            })
            .next().toggleClass("d-none");
            // alert(this.innerText);
            $(":checkbox").toggleClass("invisible");
        });


        function toggleConfirmBtn() {
            const $chbox = $("input:checkbox:gt(0)");

                // console.log($(":checkbox:checked").length);
                

            //     let flag1 = false;
            //     let flag2 = true;

            //     for(let i = 0; i < $chbox.length ; i++){
            //         console.log($chbox[i].checked);
                
            //         // chbox[i].checked? flag1: flag2
                
            //         if($chbox[i].checked){
            //             flag1 = true;
            //         }
            //         else{
            //             flag2 = false;
            //         }
            // }
            $(":checkbox:first").prop("checked", !($chbox.length - $chbox.filter(":checked").length)); 
            $("button:eq(1)").prop("disabled", !($(":checkbox:checked").length));
        }

        // 체크박스를 (change)선택 했을때 이벤트(로그 확인)
        $(":checkbox")
            .filter(":first")
            .change(function() {
                console.log("checkbox");
                console.log(this.checked);
                $(":checkbox").prop("checked", this.checked)
                toggleConfirmBtn();
            });
        $(":checkbox:gt(0)").change(toggleConfirmBtn)
        // 하위 체크박스 선택시 할 일 정의
        // 단 하나의 체크라도 활성화 되어 있을 경우 확인 버튼 활성화
        // 단 하나의 체크라도 비활성화 되어 있을 경우 최초의 체크박스 비활성화

    </script>
</body>
</html>